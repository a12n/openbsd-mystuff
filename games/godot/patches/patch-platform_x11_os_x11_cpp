$OpenBSD$
--- platform/x11/os_x11.cpp.orig	Wed Nov 19 17:33:15 2014
+++ platform/x11/os_x11.cpp	Mon Nov 24 22:52:04 2014
@@ -33,6 +33,7 @@
 #include "key_mapping_x11.h"
 #include <stdio.h>
 #include <stdlib.h>
+#include <string.h>
 #include "print_string.h"
 #include "servers/physics/physics_server_sw.h"
 
@@ -1111,7 +1112,7 @@ void OS_X11::close_joystick(int p_id) {
 };
 
 void OS_X11::probe_joystick(int p_id) {
-	#ifndef __FreeBSD__
+	#if !defined(__FreeBSD__) && !defined(__OpenBSD__)
 
 	if (p_id == -1) {
 
@@ -1166,7 +1167,7 @@ void OS_X11::move_window_to_foreground() {
 }
 
 void OS_X11::process_joysticks() {
-	#ifndef __FreeBSD__
+	#if !defined(__FreeBSD__) && !defined(__OpenBSD__)
 	int bytes;
 	js_event events[32];
 	InputEvent ievent;
@@ -1382,6 +1383,10 @@ OS_X11::OS_X11() {
 
 #ifdef ALSA_ENABLED
 	AudioDriverManagerSW::add_driver(&driver_alsa);
+#endif
+
+#ifdef AO_ENABLED
+	AudioDriverManagerSW::add_driver(&driver_ao);
 #endif
 
 	minimized = false;
